<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <div th:replace="./fragments/header.html :: fragment-header"></div>

  <!-- webgazer.js -->
  <script src="./assets/webgazer/webgazer.js"></script>
</head>

<body>
<div th:replace="./fragments/webgazer_config.html :: fragment-webgazer-config"></div>

<!-- ======= Header ======= -->
<div th:replace="./fragments/navbar.html :: fragment-navbar"></div>

<div class="calibrationDiv">
  <input type="button" class="Calibration" id="Pt1" />
  <input type="button" class="Calibration" id="Pt2" />
  <input type="button" class="Calibration" id="Pt3" />
  <input type="button" class="Calibration" id="Pt4" />
  <input type="button" class="Calibration" id="Pt5" />
  <input type="button" class="Calibration" id="Pt6" />
  <input type="button" class="Calibration" id="Pt7" />
  <input type="button" class="Calibration" id="Pt8" />
  <input type="button" class="Calibration" id="Pt9" />
  <input type="button" class="RandomCalibration" />
  <input type="button" class="MovingCalibration" />
</div>

<!-- Modal -->
<div id="helpModal" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-body">
        <img src="./assets/webgazer/media/example/calibration.png" width="100%" height="100%" alt="webgazer demo instructions" />
      </div>
      <div class="modal-footer">
        <a href="=/" type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</a>
        <button type="button" id='start_calibration' class="btn btn-primary" data-bs-dismiss="modal" onclick="Restart()">Calibrate</button>
      </div>
    </div>

  </div>
</div>

<div id="warning-message" class="alert alert-danger" role="alert">
  <h4 class="alert-heading">Please resize the window.</h4>
  <p>Make window bigger to view contents. Resize the browser window over a height of <code>500px</code> or a width of <code>768px</code> and you won't see the content anymore.</p>
</div>

<script type="text/javascript" th:inline="javascript">
  <!-- 보정 과정 안했을 때 에러 메세지 -->
  let error = [[ ${doesNotCalibrate} ]];
  if (error) {
    alert("아이트래킹 보정을 먼저 진행해주세요.");
    window.location.replace("/calibration");
  }
</script>
<div th:replace="./fragments/config.html :: fragment-config"></div>
<!-- Webgazer JS Files -->
<script src="./assets/webgazer/js/resize_canvas.js"></script>
</body>
</html>